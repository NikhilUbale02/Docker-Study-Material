# 🐳 Docker Industry-Grade Question Bank (Phase 1 → 6)

---

## 🔰 Phase 1 – Basics

> Q. What is Docker in simple terms?  
- A. Docker is a containerization platform that packages apps with dependencies into portable, lightweight containers that run consistently across environments.

> Q. Difference between containers and VMs?  
- A. Containers virtualize at OS-level, share host kernel, lightweight (MBs, seconds). VMs virtualize hardware, full OS, heavy (GBs, minutes).

> Q. Why are containers faster than VMs?  
- A. They don’t boot a full OS, only isolate processes using namespaces & cgroups.

> Q. What are the main components of Docker architecture?  
- A. Client (CLI/API), Daemon (dockerd), Registry (Docker Hub/private), Objects (images, containers, volumes, networks).

> Q. What happens when you run `docker run hello-world`?  
- A. CLI → Daemon → checks image locally → pulls from Docker Hub → creates container → runs binary → outputs message → exits.

> Q. Where are Docker images & containers stored by default?  
- A. `/var/lib/docker/` (Linux).

> Q. Explain container lifecycle.  
- A. Created → Running → Paused → Stopped (Exited) → Removed.

> Q. Can multiple containers run on same host?  
- A. Yes, containers share host kernel but remain isolated.

> Q. What is the default Docker network mode?  
- A. Bridge.

---

## 🏗️ Phase 2 – Images & Dockerfile

> Q. What is a Docker image?  
- A. A read-only blueprint of app environment, built in layers, used to create containers.

> Q. What is a Dockerfile?  
- A. Script with instructions to build images (FROM, RUN, COPY, CMD, ENTRYPOINT, etc.).

> Q. Difference between CMD and ENTRYPOINT?  
- A. CMD → defaults, overridable. ENTRYPOINT → main process, not easily overridden. Best practice: ENTRYPOINT for binary, CMD for args.

> Q. Difference between COPY and ADD?  
- A. COPY just copies. ADD also supports URLs and auto-extracts archives. Prefer COPY.

> Q. Why is order of instructions important in Dockerfile?  
- A. Because of caching. If an earlier step changes, all subsequent layers rebuild.

> Q. How does caching work in Docker builds?  
- A. Each instruction creates a layer. If context & instruction unchanged, cached layer reused.

> Q. What is `scratch` image?  
- A. An empty image, base for minimal containers, often used with Go/C binaries.

> Q. Why use Alpine image?  
- A. Tiny (~5MB), fast pull, fewer vulnerabilities, small attack surface.

> Q. How do you reduce Docker image size?  
- A. Multi-stage builds, Alpine base, .dockerignore, remove build tools after build.

> Q. How to inspect image layers?  
- A. `docker history <image>`.

> Q. How to inspect image metadata?  
- A. `docker inspect <image>`.

> Q. How to export/import images without registry?  
- A. `docker save` and `docker load`.

> Q. How to build multi-arch images?  
- A. `docker buildx build --platform linux/amd64,linux/arm64 -t user/app .`

> Q. Difference between `docker commit` and `docker build`?  
- A. Commit = snapshot container state (not reproducible). Build = Dockerfile (reproducible, best practice).

---

## 💾 Phase 3 – Volumes & Persistence

> Q. Why do we need Docker volumes?  
- A. Containers are ephemeral → data lost on removal. Volumes persist data beyond container lifecycle.

> Q. Difference between bind mount and named volume?  
- A. Bind mount → maps host path. Named volume → managed by Docker in `/var/lib/docker/volumes`.

> Q. Difference between `-v` and `--mount`?  
- A. `-v` = old shorthand. `--mount` = modern, explicit, flexible.

> Q. What is a tmpfs mount?  
- A. Stores data in host RAM, non-persistent, fast.

> Q. What is an anonymous volume?  
- A. Created automatically without a name, harder to manage.

> Q. Can volumes be shared between containers?  
- A. Yes, multiple containers can mount the same volume.

> Q. How to backup a Docker volume?  
- A. `docker run --rm -v myvol:/data -v $(pwd):/backup busybox tar cvf /backup/vol.tar /data`

> Q. What happens to volumes if container is deleted?  
- A. Volumes persist unless explicitly removed with `-v` or `docker volume rm`.

> Q. How to list and inspect volumes?  
- A. `docker volume ls` and `docker volume inspect`.

> Q. What are volume drivers?  
- A. Plugins that store volumes externally (e.g., NFS, AWS EBS, Azure Disk).

---

## 🌐 Phase 4 – Networking

> Q. What is Docker’s default network mode?  
- A. Bridge.

> Q. Difference between bridge and host network?  
- A. Bridge = isolated, requires port mapping. Host = shares host stack, no mapping.

> Q. Difference between default bridge and custom bridge?  
- A. Default bridge = containers talk only via IP. Custom bridge = DNS-based name resolution.

> Q. What is an overlay network?  
- A. Network spanning multiple Docker hosts, used in Swarm/K8s.

> Q. What is a macvlan network?  
- A. Gives container its own MAC & IP, appears as a real device on LAN.

> Q. What is `EXPOSE` in Dockerfile?  
- A. Documentation only; does not publish ports.

> Q. Difference between EXPOSE and -p?  
- A. EXPOSE = metadata. -p = actually publishes host:container ports.

> Q. What is `depends_on` in Compose?  
- A. Defines startup order, doesn’t check readiness.

> Q. How do containers resolve each other by name?  
- A. Through Docker’s embedded DNS in user-defined networks.

> Q. Can a container join multiple networks?  
- A. Yes, via `docker network connect`.

> Q. How to debug container networking issues?  
- A. Use `ping`, `curl`, `docker inspect`, or netshoot (tcpdump, nslookup).

---

## ⚙️ Phase 5 – Docker Compose

> Q. What is Docker Compose?  
- A. Tool to define/run multi-container apps via YAML.

> Q. Difference between Docker run and Docker Compose?  
- A. Run = single container, manual. Compose = multi-container, declarative YAML.

> Q. What are sections of docker-compose.yml?  
- A. version, services, volumes, networks, environment.

> Q. How do you scale services in Compose?  
- A. `docker-compose up --scale service=3`.

> Q. Difference between docker-compose up and start?  
- A. Up = create/build/run. Start = start existing containers.

> Q. What happens if you run `docker-compose down`?  
- A. Stops containers, removes networks. Volumes persist unless `-v`.

> Q. Difference between ENV in Dockerfile and environment in Compose?  
- A. ENV = baked into image. environment = runtime vars.

> Q. Does `depends_on` wait for service readiness?  
- A. No, only startup order. Use healthchecks/wait-for scripts.

> Q. How do you override configs in Compose?  
- A. Use multiple files: `-f docker-compose.yml -f docker-compose.override.yml`.

> Q. Can Compose define multiple networks?  
- A. Yes, services can join multiple networks.

---

## 🚀 Phase 6 – CI/CD & Production

> Q. Why not use latest tag in production?  
- A. It’s ambiguous, may pull unexpected versions. Use versioned tags.

> Q. What are best practices for image tagging?  
- A. Semantic version (1.2.3), Git SHA, build number, multi-tags.

> Q. How do you scan Docker images?  
- A. `docker scan`, Trivy, Snyk.

> Q. How do you reduce Docker image attack surface?  
- A. Use minimal base, non-root user, remove build tools, scan regularly.

> Q. How to enforce only trusted images?  
- A. Use Docker Content Trust (DCT) with signed images.

> Q. How do you handle secrets in Docker?  
- A. Use Swarm/K8s secrets, Vault, or cloud secrets manager. Never bake into images.

> Q. How do you limit container resources?  
- A. `--cpus` and `--memory` flags.

> Q. What is immutable infrastructure in Docker?  
- A. Don’t patch running containers. Always rebuild & redeploy images.

> Q. How do you debug containers in production?  
- A. `docker exec`, logs, netshoot, monitoring tools.

> Q. How do you monitor Docker containers?  
- A. Logs → ELK/EFK. Metrics → Prometheus + cAdvisor. Tracing → Jaeger/Zipkin.

> Q. Difference between docker save and docker export?  
- A. Save = image (layers, metadata). Export = container filesystem only.

> Q. What are private registries, and why use them?  
- A. ECR, ACR, Harbor, Quay. For security, control, compliance, no rate limits.

> Q. How do you set restart policies?  
- A. always, unless-stopped, on-failure.

> Q. What is BuildKit?  
- A. Modern build backend with better caching, secrets, mounts. Enabled with `DOCKER_BUILDKIT=1`.
